import 'package:flutter/material.dart';
import 'package:quran/consts/surah_info.dart';

var _DATA = {
  "1": {"surahNum": 1, "hizbNum": 1, "juzNum": 1, "rubNum": 1},
  "2": {"surahNum": 2},
  "5": {"rubNum": 2},
  "7": {"rubNum": 3},
  "9": {"rubNum": 4},
  "11": {"hizbNum": 2, "rubNum": 5},
  "14": {"rubNum": 6},
  "17": {"rubNum": 7},
  "19": {"rubNum": 8},
  "22": {"hizbNum": 3, "juzNum": 2, "rubNum": 9},
  "24": {"rubNum": 10},
  "27": {"rubNum": 11},
  "29": {"rubNum": 12},
  "32": {"hizbNum": 4, "rubNum": 13},
  "34": {"rubNum": 14},
  "37": {"rubNum": 15},
  "39": {"rubNum": 16},
  "42": {"hizbNum": 5, "juzNum": 3, "rubNum": 17},
  "44": {"rubNum": 18},
  "46": {"rubNum": 19},
  "49": {"rubNum": 20},
  "50": {"surahNum": 3},
  "51": {"hizbNum": 6, "rubNum": 21},
  "54": {"rubNum": 22},
  "56": {"rubNum": 23},
  "59": {"rubNum": 24},
  "62": {"hizbNum": 7, "juzNum": 4, "rubNum": 25},
  "64": {"rubNum": 26},
  "67": {"rubNum": 27},
  "69": {"rubNum": 28},
  "72": {"hizbNum": 8, "rubNum": 29},
  "74": {"rubNum": 30},
  "77": {"surahNum": 4, "rubNum": 31},
  "79": {"rubNum": 32},
  "82": {"hizbNum": 9, "juzNum": 5, "rubNum": 33},
  "84": {"rubNum": 34},
  "87": {"rubNum": 35},
  "89": {"rubNum": 36},
  "92": {"hizbNum": 10, "rubNum": 37},
  "94": {"rubNum": 38},
  "97": {"rubNum": 39},
  "100": {"rubNum": 40},
  "102": {"hizbNum": 11, "juzNum": 6, "rubNum": 41},
  "104": {"rubNum": 42},
  "106": {"surahNum": 5, "rubNum": 43},
  "109": {"rubNum": 44},
  "112": {"hizbNum": 12, "rubNum": 45},
  "114": {"rubNum": 46},
  "117": {"rubNum": 47},
  "119": {"rubNum": 48},
  "121": {"hizbNum": 13, "juzNum": 7, "rubNum": 49},
  "124": {"rubNum": 50},
  "126": {"rubNum": 51},
  "128": {"surahNum": 6},
  "129": {"rubNum": 52},
  "132": {"hizbNum": 14, "rubNum": 53},
  "134": {"rubNum": 54},
  "137": {"rubNum": 55},
  "140": {"rubNum": 56},
  "142": {"hizbNum": 15, "juzNum": 8, "rubNum": 57},
  "144": {"rubNum": 58},
  "146": {"rubNum": 59},
  "148": {"rubNum": 60},
  "151": {"surahNum": 7, "hizbNum": 16, "rubNum": 61},
  "154": {"rubNum": 62},
  "156": {"rubNum": 63},
  "158": {"rubNum": 64},
  "162": {"hizbNum": 17, "juzNum": 9, "rubNum": 65},
  "164": {"rubNum": 66},
  "167": {"rubNum": 67},
  "170": {"rubNum": 68},
  "173": {"hizbNum": 18, "rubNum": 69},
  "175": {"rubNum": 70},
  "177": {"surahNum": 8, "rubNum": 71},
  "179": {"rubNum": 72},
  "182": {"hizbNum": 19, "juzNum": 10, "rubNum": 73},
  "184": {"rubNum": 74},
  "187": {"surahNum": 9, "rubNum": 75},
  "189": {"rubNum": 76},
  "192": {"hizbNum": 20, "rubNum": 77},
  "194": {"rubNum": 78},
  "196": {"rubNum": 79},
  "199": {"rubNum": 80},
  "201": {"hizbNum": 21, "juzNum": 11, "rubNum": 81},
  "204": {"rubNum": 82},
  "206": {"rubNum": 83},
  "208": {"surahNum": 10},
  "209": {"rubNum": 84},
  "212": {"hizbNum": 22, "rubNum": 85},
  "214": {"rubNum": 86},
  "217": {"rubNum": 87},
  "219": {"rubNum": 88},
  "221": {"surahNum": 11},
  "222": {"hizbNum": 23, "juzNum": 12, "rubNum": 89},
  "224": {"rubNum": 90},
  "226": {"rubNum": 91},
  "228": {"rubNum": 92},
  "231": {"hizbNum": 24, "rubNum": 93},
  "233": {"rubNum": 94},
  "235": {"surahNum": 12},
  "236": {"rubNum": 95},
  "238": {"rubNum": 96},
  "242": {"hizbNum": 25, "juzNum": 13, "rubNum": 97},
  "244": {"rubNum": 98},
  "247": {"rubNum": 99},
  "249": {"surahNum": 13, "rubNum": 100},
  "252": {"hizbNum": 26, "rubNum": 101},
  "254": {"rubNum": 102},
  "255": {"surahNum": 14},
  "256": {"rubNum": 103},
  "259": {"rubNum": 104},
  "262": {"surahNum": 15, "hizbNum": 27, "juzNum": 14, "rubNum": 105},
  "264": {"rubNum": 106},
  "267": {"surahNum": 16, "rubNum": 107},
  "270": {"rubNum": 108},
  "272": {"hizbNum": 28, "rubNum": 109},
  "275": {"rubNum": 110},
  "277": {"rubNum": 111},
  "280": {"rubNum": 112},
  "282": {"surahNum": 17, "hizbNum": 29, "juzNum": 15, "rubNum": 113},
  "284": {"rubNum": 114},
  "287": {"rubNum": 115},
  "289": {"rubNum": 116},
  "292": {"hizbNum": 30, "rubNum": 117},
  "293": {"surahNum": 18},
  "295": {"rubNum": 118},
  "297": {"rubNum": 119},
  "299": {"rubNum": 120},
  "302": {"hizbNum": 31, "juzNum": 16, "rubNum": 121},
  "304": {"rubNum": 122},
  "305": {"surahNum": 19},
  "306": {"rubNum": 123},
  "309": {"rubNum": 124},
  "312": {"surahNum": 20, "hizbNum": 32, "rubNum": 125},
  "315": {"rubNum": 126},
  "317": {"rubNum": 127},
  "319": {"rubNum": 128},
  "322": {"surahNum": 21, "hizbNum": 33, "juzNum": 17, "rubNum": 129},
  "324": {"rubNum": 130},
  "326": {"rubNum": 131},
  "329": {"rubNum": 132},
  "332": {"surahNum": 22, "hizbNum": 34, "rubNum": 133},
  "334": {"rubNum": 134},
  "336": {"rubNum": 135},
  "339": {"rubNum": 136},
  "342": {"surahNum": 23, "hizbNum": 35, "juzNum": 18, "rubNum": 137},
  "344": {"rubNum": 138},
  "347": {"rubNum": 139},
  "350": {"surahNum": 24, "rubNum": 140},
  "352": {"hizbNum": 36, "rubNum": 141},
  "354": {"rubNum": 142},
  "356": {"rubNum": 143},
  "359": {"surahNum": 25, "rubNum": 144},
  "362": {"hizbNum": 37, "juzNum": 19, "rubNum": 145},
  "364": {"rubNum": 146},
  "367": {"surahNum": 26, "rubNum": 147},
  "369": {"rubNum": 148},
  "371": {"hizbNum": 38, "rubNum": 149},
  "374": {"rubNum": 150},
  "377": {"surahNum": 27, "rubNum": 151},
  "379": {"rubNum": 152},
  "382": {"hizbNum": 39, "juzNum": 20, "rubNum": 153},
  "384": {"rubNum": 154},
  "385": {"surahNum": 28},
  "386": {"rubNum": 155},
  "389": {"rubNum": 156},
  "392": {"hizbNum": 40, "rubNum": 157},
  "394": {"rubNum": 158},
  "396": {"surahNum": 29, "rubNum": 159},
  "399": {"rubNum": 160},
  "402": {"hizbNum": 41, "juzNum": 21, "rubNum": 161},
  "404": {"surahNum": 30, "rubNum": 162},
  "407": {"rubNum": 163},
  "410": {"rubNum": 164},
  "411": {"surahNum": 31},
  "413": {"hizbNum": 42, "rubNum": 165},
  "415": {"surahNum": 32, "rubNum": 166},
  "418": {"surahNum": 33, "rubNum": 167},
  "420": {"rubNum": 168},
  "422": {"hizbNum": 43, "juzNum": 22, "rubNum": 169},
  "425": {"rubNum": 170},
  "426": {"rubNum": 171},
  "428": {"surahNum": 34},
  "429": {"rubNum": 172},
  "431": {"hizbNum": 44, "rubNum": 173},
  "433": {"rubNum": 174},
  "434": {"surahNum": 35},
  "436": {"rubNum": 175},
  "439": {"rubNum": 176},
  "440": {"surahNum": 36},
  "442": {"hizbNum": 45, "juzNum": 23, "rubNum": 177},
  "444": {"rubNum": 178},
  "446": {"surahNum": 37, "rubNum": 179},
  "449": {"rubNum": 180},
  "451": {"hizbNum": 46, "rubNum": 181},
  "453": {"surahNum": 38},
  "454": {"rubNum": 182},
  "456": {"rubNum": 183},
  "458": {"surahNum": 39},
  "459": {"rubNum": 184},
  "462": {"hizbNum": 47, "juzNum": 24, "rubNum": 185},
  "464": {"rubNum": 186},
  "467": {"surahNum": 40, "rubNum": 187},
  "469": {"rubNum": 188},
  "472": {"hizbNum": 48, "rubNum": 189},
  "474": {"rubNum": 190},
  "477": {"surahNum": 41, "rubNum": 191},
  "479": {"rubNum": 192},
  "482": {"hizbNum": 49, "juzNum": 25, "rubNum": 193},
  "483": {"surahNum": 42},
  "484": {"rubNum": 194},
  "486": {"rubNum": 195},
  "488": {"rubNum": 196},
  "489": {"surahNum": 43},
  "491": {"hizbNum": 50, "rubNum": 197},
  "493": {"rubNum": 198},
  "496": {"surahNum": 44, "rubNum": 199},
  "499": {"surahNum": 45, "rubNum": 200},
  "502": {"surahNum": 46, "hizbNum": 51, "juzNum": 26, "rubNum": 201},
  "505": {"rubNum": 202},
  "507": {"surahNum": 47, "rubNum": 203},
  "510": {"rubNum": 204},
  "511": {"surahNum": 48},
  "513": {"hizbNum": 52, "rubNum": 205},
  "515": {"surahNum": 49, "rubNum": 206},
  "517": {"rubNum": 207},
  "518": {"surahNum": 50},
  "519": {"rubNum": 208},
  "520": {"surahNum": 51},
  "522": {"hizbNum": 53, "juzNum": 27, "rubNum": 209},
  "523": {"surahNum": 52},
  "524": {"rubNum": 210},
  "526": {"surahNum": 53, "rubNum": 211},
  "528": {"surahNum": 54},
  "529": {"rubNum": 212},
  "531": {"surahNum": 55, "hizbNum": 54, "rubNum": 213},
  "534": {"surahNum": 56, "rubNum": 214},
  "536": {"rubNum": 215},
  "537": {"surahNum": 57},
  "539": {"rubNum": 216},
  "542": {"surahNum": 58, "hizbNum": 55, "juzNum": 28, "rubNum": 217},
  "544": {"rubNum": 218},
  "545": {"surahNum": 59},
  "547": {"rubNum": 219},
  "549": {"surahNum": 60},
  "550": {"rubNum": 220},
  "551": {"surahNum": 61},
  "553": {"surahNum": 62, "hizbNum": 56, "rubNum": 221},
  "554": {"surahNum": 63, "rubNum": 222},
  "556": {"surahNum": 64},
  "558": {"surahNum": 65, "rubNum": 223},
  "560": {"surahNum": 66, "rubNum": 224},
  "562": {"surahNum": 67, "hizbNum": 57, "juzNum": 29, "rubNum": 225},
  "564": {"surahNum": 68, "rubNum": 226},
  "566": {"surahNum": 69, "rubNum": 227},
  "568": {"surahNum": 70},
  "569": {"rubNum": 228},
  "570": {"surahNum": 71},
  "572": {"surahNum": 72, "hizbNum": 58, "rubNum": 229},
  "574": {"surahNum": 73},
  "575": {"rubNum": 230, "surahNum": 74},
  "577": {"surahNum": 75, "rubNum": 231},
  "578": {"surahNum": 76},
  "579": {"rubNum": 232},
  "580": {"surahNum": 77},
  "582": {"surahNum": 78, "hizbNum": 59, "juzNum": 30, "rubNum": 233},
  "583": {"surahNum": 79},
  "585": {"surahNum": 80, "rubNum": 234},
  "586": {"surahNum": 81},
  "587": {"surahNum": 83, "rubNum": 235},
  "589": {"surahNum": 84, "rubNum": 236},
  "590": {"surahNum": 85},
  "591": {"surahNum": 87, "hizbNum": 60, "rubNum": 237},
  "592": {"surahNum": 88},
  "593": {"surahNum": 89},
  "594": {"surahNum": 90, "rubNum": 238},
  "595": {"surahNum": 92},
  "596": {"surahNum": 94, "rubNum": 239},
  "597": {"surahNum": 96},
  "598": {"surahNum": 98},
  "599": {"surahNum": 100, "rubNum": 240},
  "600": {"surahNum": 102},
  "601": {"surahNum": 105},
  "602": {"surahNum": 108},
  "603": {"surahNum": 111},
  "604": {"surahNum": 114}
};

class PageInfoMeta {
  int? surahNum = 0;
  int? juzNum = 0;
  int? rubNum = 0;

  PageInfoMeta({
    int? surahNum,
    int? juzNum,
    int? rubNum,
  }) {
    this.surahNum = surahNum;
    this.juzNum = juzNum;
    this.rubNum = rubNum;
  }
}

class PageInfo {
  static Map<int, PageInfoMeta> data = new Map();

  static parseData() {
    if (data.keys.isNotEmpty) return;
    for (var key in _DATA.keys) {
      PageInfoMeta meta = PageInfoMeta(
          surahNum: _DATA[key]!["surahNum"],
          juzNum: _DATA[key]!["juzNum"],
          rubNum: _DATA[key]!["rubNum"]);
      data[int.parse(key)] = meta;
    }
  }

  static PageInfoMeta getPageInfo(int pageIdx)  {
    List<int> keys = data.keys.toList();
    keys.sort();

    PageInfoMeta meta = PageInfoMeta(surahNum : data[keys[0]]!.surahNum,juzNum : data[keys[0]]!.juzNum,rubNum : data[keys[0]]!.rubNum);
    for (var i = 0; i < keys.length; i++) {
      if (keys[i] >= pageIdx)  break;

      meta.surahNum = data[keys[i]]!.surahNum ?? meta.surahNum;
      meta.juzNum = data[keys[i]]!.juzNum ?? meta.juzNum;
      meta.rubNum = data[keys[i]]!.rubNum ?? meta.rubNum;      
    }

    return meta;
  }
}
